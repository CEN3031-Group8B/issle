<section data-ng-controller='list-ProjectsController'>
  <div class="container-fluid">
    <h2>Search for Projects</h2>
    <div class="main row">
      <div class="col-md-6"> <br>
        <div style="text-align:center">
          <span style="font-size:5em" class="blue glyphicon glyphicon-list-alt" aria-hidden="true"></span>
          <h3>Search by Main Subject</h3>
          <div class="panel panel-blue">
            <div class="panel-heading">I want projects with this subject...</div>
            <div class="panel-body">
              <h4>Subject:
                <select style="height:27px; width: 265px" data-ng-model="search.mainSubject">
                  <option value="">Select one...</option>
                  <option value="Dance">Dance</option>
                  <option value="English Language Arts">English Language Arts</option>
                  <option value="English Language Development">English Language Development</option>
                  <option value="Gifted">Gifted</option>
                  <option value="Health Education">Health Education</option>
                  <option value="Mathematics">Mathematics</option>
                  <option value="Music">Music</option>
                  <option value="Physical Education">Physical Education</option>
                  <option value="Science">Science</option>
                  <option value="Social Studies">Social Studies</option>
                  <option value="Special Skills">Special Skills</option>
                  <option value="Technology">Technology</option>
                  <option value="Theatre">Theatre</option>
                  <option value="Visual Art">Visual Art</option>
                </select>
              </h4>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6"> <br>
        <div style="text-align:center">
          <span style="font-size:5em" class="gold glyphicon glyphicon-pencil" aria-hidden="true"></span>
          <h3>Search by Grade</h3>
          <div class="panel panel-blue">
            <div class="panel-heading">I want standards for the following grades...</div>
            <div class="panel-body">
              <h4>Grade(s) :
                <select style="height:27px" ng-model="search.minGrade">
                  <option value="">Select one...</option>
                  <option value="0">K</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="912">9-12</option>
                </select> -
                <select style="height:27px" ng-model="search.maxGrade">
                  <option value="">Select one...</option>
                  <option value="0">K</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="912">9-12</option>
                </select>
              </h4>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h3 style="text-align:center">Search by Project Name</h3>
    <div class="panel panel-blue">
    <div class="input-group input-group-lg">
      <span class="input-group-addon" id="sizing-addon1">Projects with this name...</span>
      <input id="project" type="text" class="form-control" placeholder="eg. Raz's Balloons" aria-describedby="sizing-addon1" ng-model= "search.searchName" ng-keypress = "enterPressName($event, search, show)">
    </div>
    </div>
    <br>
    </div> <div data-ng-controller="StandardsController">
    <div style="text-align:center">
    <h3 style="text-align:center">Search by Standard</h3>
    <div class="panel panel-blue">
    <!--<div class="input-group input-group-lg">
      <span class="input-group-addon" id="sizing-addon1">By standard...</span>
      <input id="standard" type="text" class="form-control" placeholder="eg. MAFS.7.SP.1.1" aria-describedby="sizing-addon1" ng-model= "search.searchText" ng-keypress = "enterPressStandard($event, search, show)">
    </div>-->

            <div class="panel-heading">I want projects with this standard...</div>
                <div >
                  <div class="panel-body">
                    <span style="font-size:2em" class="blue glyphicon glyphicon-book" ></span>   Subject: 
                  <select style="height:27px; width: 175px" ng-model="search.subject">
                    <option value="">Select one...</option>
                    <option value="Dance">Dance</option>
                    <option value="English Language Arts">English Language Arts</option>
                    <option value="English Language Development">English Language Development</option>
                    <option value="Gifted">Gifted</option>
                    <option value="Health Education">Health Education</option>
                    <option value="Mathematics">Mathematics</option>
                    <option value="Music">Music</option>
                    <option value="Physical Education">Physical Education</option>
                    <option value="Science">Science</option>
                    <option value="Social Studies">Social Studies</option>
                    <option value="Special Skills">Special Skills</option>
                    <option value="Theatre">Theatre</option>
                    <option value="Visual Art">Visual Art</option>
                  </select>

              </div>
        </div>

        
            <div style="text-align:center"><span style="font-size:2em" class="gold glyphicon glyphicon-pencil" aria-hidden="true"></span>   Grade(s) :
              <select style="height:27px; width 50px" data-ng-model="search.minGrade">
                <option value="">Select one...</option>
                <option id="min0" value="0">K</option>
                <option id="min1" value="1">1</option>
                <option id="min2" value="2">2</option>
                <option id="min3" value="3">3</option>
                <option id="min4" value="4">4</option>
                <option id="min5" value="5">5</option>
                <option id="min6" value="6">6</option>
                <option id="min7" value="7">7</option>
                <option id="min8" value="8">8</option>
                <option id="min912" value="912">9-12</option>
              </select> -
              <select style="height:27px; width 50px" data-ng-model="search.maxGrade">
                <option value="">Select one...</option>
                <option id="max0" value="0">K</option>
                <option id="max1" value="1">1</option>
                <option id="max2" value="2">2</option>
                <option id="max3" value="3">3</option>
                <option id="max4" value="4">4</option>
                <option id="max5" value="5">5</option>
                <option id="max6" value="6">6</option>
                <option id="max7" value="7">7</option>
                <option id="max8" value="8">8</option>
                <option id="max912" value="912">9-12</option>
              </select>
            </div>  

                  <h4 style="text-align:center" class="sub-header">Search by Standard Name : <input id="standard" type="text" placeholder="MAFS.912.A-APR.1.1" data-ng-model="standard_search"></h4>
                  <button id="submitStandards" type="submitStandards" class="btn btn-warning btn-block" ng-click="show = true; find(search)" style="width:50%; margin-left:25%">Search for Standards</button>
                  

                        <!--<div class="list-group">
                          <a data-ng-repeat="std in standards" data-ui-sref="admin.user({userId: user._id})" class="list-group-item">
                            <h4 class="list-group-item-heading" data-ng-bind="std.benchmark"></h4>
                            <p class="list-group-item-text" data-ng-bind="std.description"></p>
                          </a>
                        </div>
                        <pagination boundary-links="true" max-size="8" items-per-page="itemsPerPage" total-items="filterLength" ng-model="currentPage" ng-change="pageChanged()"></pagination> -->

                      <div class="panel panel-blue" ng-show="show">
                          
                              <div class="panel-body">
                              <h4 class="search-results">Displaying standard(s) selected: </h4>
                              
                              <br>
                              <table class = "searchResults">
                               <tr class = "searchRow">
                                <th></th>
                                 <th>Standard</th>
                                 <th>Summary</th>
                                 <th>Subject</th>
                                 <th>Grade(s)</th>
                                 <th>Topic</th>
                               </tr>
                                 <tr class="searchRow" ng-repeat="std in standards | filter:searchText" ng-model="standards" style="width:35%" selection-model selection-model-mode="'single'" selection-model-type="'checkbox'" selection-model-selected-items="search.searchText">
                                  <td><input type="checkbox"></td>
                                  <td class = "line-break" >{{std.benchmark}}</td>
                                  <td class = "line-break">{{std.description}}</td>
                                  <td>{{std.subject}}</td>
                                  <td>{{std.grade}}</td>
                                  <td class = "line-break">{{std.bodyOfKnowledge}}</td>
                              </tr>
                          </table>
                      </div>
                  </div>
                  </div>
                </div>
              </div>
    <br>
    <br>
    <div class = "text-center"><button id="submit" type="submit" class="btn btn-warning btn-block" ng-click="show = true; find(search)" style="width:50%; margin-left:25%">Submit</button></div>
    <br>
    <div class="panel panel-blue" ng-show="show">
      <div class="panel-heading">  </div>
            <!-- <h2 class="panel-title"> Search Results </h2></div> -->
      <div class="panel-body">
          <div class="row">
              <div class="col-md-6 col-md-offset-3" style="text-align:center">
                    <h3 class="search-results">Search Results: </h3>
              </div>
          </div>

          <div class="panel panel-blue" ng-repeat="prj in projects">
                <!-- Displays all matching projects as a panel  -->
                <div class="panel-heading" data-ui-sref="projects.view({projectId : prj._id})">
                      <div class="row">
                              <div class="col-xs-6 col-md-3">
                                  <a id="link" data-ui-sref="projects.view({projectId : prj._id})">
                                    <!-- Title is a hyperlink -->
                                      <h4 class="gold" style="font-size:20">
                                      {{prj.name}}</h4>
                                  </a>
                              </div>
                              <!-- Shows author, grade range, and rating -->
                              <div class="col-xs-6 col-md-3"><h5>
                                  by <strong>{{prj.user.displayName}}</strong></h5></div>
                              <div class="col-xs-6 col-md-3"><h5>
                                  For grades {{getGradeRange(prj.minGrade, prj.maxGrade)}}</h5></div>
                              <div class="col-xs-3-offset-3 col-md-3">
                                    <h5> Rating: <!-- Shows rounded number of stars -->
                                        <div  class = "gold glyphicon glyphicon-star"
                                              style="font-size:1em"
                                              ng-repeat="n in range(1,prj.rating.avg_rating,1)">
                                        </div> {{noRatingCheck(prj.rating.avg_rating)}}
                                    </h5>
                              </div>
                              <div class="col-xs-6 col-md-3">
                                <h5>Main Subject: {{project.mainSub}}</h5>
                              </div>
                      </div>
                </div>

                <div class="panel-body">
                      <div class="row">
                        <!-- Shows project summary as 2/3 of the panel width-->
                          <div class="col-md-8">
                              <div class="panel panel-default">
                                    <div class="panel-body">
                                        <h4> Summary </h4>
                                        <p> {{prj.ask.learningObjective}} </p>
                                    </div>
                              </div>

                          </div>
                          <!-- Shows standards met as 2/3 of the panel width-->
                          <div class="col-md-4">
                              <div class="panel panel-default">
                                    <div class="panel-body">
                                        <h4> Standards Fulfilled </h4>
                                        <p> {{prj.essentialDetails.overallStandards}} </p>
                                    </div>
                              </div>
                          </div>
                      </div>




                </div>
          </div>



        <!-- OLD
        <table class = "searchResults">
         <tr class = "searchRow">
           <th>Project Name</th>
           <th>Summary</th>
           <th>Grade Range</th>
           <th>Standards Fulfilled</th>
           <th>Rating</th>
         </tr>
           <tr class="searchRow" ng-repeat="prj in projects">
            <td>
              <a data-ui-sref="projects.view({projectId : prj._id})">
                {{prj.name}} </a> <br> by {{prj.user.displayName}}
            </td>
            <td class = "line-break">{{prj.ask.goal}}</td>
            <td class = "line-break"> {{getGradeRange(prj.minGrade, prj.maxGrade)}}</td>
            <td class = "line-break">{{prj.standards}}</td>
            <td class = "line-break" style="width:110px;">
              <div  class = "gold glyphicon glyphicon-star"
                    style="font-size:1.5em"
                    ng-repeat="n in range(1,prj.rating.avg_rating,1)">
              </div>
              {{noRatingCheck(prj.rating.avg_rating)}}
            </td>
          </tr>
      </table> -->
    </div>
  </div>
  </div>
  </div>
</section>
